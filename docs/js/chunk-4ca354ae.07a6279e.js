(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca354ae"],{"0dfe":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!1===t.loading?i("div",{staticClass:"view"},[i("v-app-bar",{attrs:{app:"",color:"primary",dark:"","hide-on-scroll":""}},[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$router.push({path:"/detail/"+t.comic_id})}}},[i("v-icon",[t._v("arrow_back")])],1),i("v-toolbar-title",[i("div",{domProps:{textContent:t._s(t.data.comic_name+" - "+t.data.comic_author)}}),i("span",{domProps:{textContent:t._s(t.data.comic_chapter[t.chapter_index].chapter_name)}})])],1),i("div",{staticClass:"comic_box"},t._l(t.data.comic_chapter[t.chapter_index].end_num,(function(e){return i("v-menu",{key:e,staticStyle:{"max-width":"200px"},attrs:{absolute:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("v-img",t._g({attrs:{transition:"fade-transition",src:"https://mhpic.jumanhua.com"+t.data.comic_chapter[t.chapter_index].rule.replace("$$",e)+"-kmh.middle.webp","lazy-src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEX///+nxBvIAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg=="},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"light-blue darken-1"}})],1)]},proxy:!0}],null,!0)},s))]}}],null,!0),model:{value:t.test,callback:function(e){t.test=e},expression:"test"}},[i("v-list",{attrs:{dense:""}},[i("v-list-item",{on:{click:function(i){t.download("https://mhpic.jumanhua.com"+t.data.comic_chapter[t.chapter_index].rule.replace("$$",e)+"-kmh.middle.webp")}}},[i("v-list-item-title",[t._v("下载图片")])],1)],1)],1)})),1),!1===t.loading?i("div",{staticClass:"tool mt-2 mb-10",staticStyle:{"text-align":"center"}},[i("v-btn",{key:"loadlast",staticClass:"ml-2 mr-2",staticStyle:{float:"left"},attrs:{outlined:"",color:"primary",disabled:Number(t.chapter_index)===t.data.comic_chapter.length},on:{click:function(e){t.$router.push({name:"view",params:{data:t.data,comic_id:t.comic_id,chapter_index:Number(t.chapter_index)+1}})}}},[i("v-icon",{attrs:{left:""}},[t._v("keyboard_arrow_left")]),t._v(" 上一话 ")],1),i("v-btn",{key:"loadcont",attrs:{outlined:"",color:"primary"},on:{click:function(e){return t.$router.push({name:"detail",params:{data:t.data,id:t.comic_id}})}}},[t._v(" 目录 ")]),i("v-btn",{key:"loadnext",staticClass:"mr-2",staticStyle:{float:"right"},attrs:{outlined:"",color:"primary",disabled:0===Number(t.chapter_index)},on:{click:function(e){t.$router.push({name:"view",params:{data:t.data,comic_id:t.comic_id,chapter_index:Number(t.chapter_index)-1}})}}},[t._v(" 下一话 "),i("v-icon",{attrs:{right:""}},[t._v("keyboard_arrow_right")])],1)],1):t._e()],1):t._e()},s=[],a=(i("99af"),{name:"View",data:function(){return{api:"https://m.kanman.com/api/getcomicinfo_body",loading:!0,comic_id:!1,chapter_index:!1,data:!1}},watch:{$route:function(t,e){this.data=t.params.data||!1,this.comic_id=t.params.comic_id||!1,this.chapter_index=t.params.chapter_index||0,this.comic_id?this.data?this.load(this.data):this.view(this.comic_id,this.chapter_index):this.$router.go(-1)}},mounted:function(){this.comic_id=this.$route.params.comic_id,this.chapter_index=this.$route.params.chapter_index,this.$route.params.data?this.load(this.$route.params.data):this.view(this.comic_id,this.chapter_index)},methods:{view:function(t,e){var i=this;this.loading=!0,this.$axios.get(this.api,{params:{comic_id:t}}).then((function(t){i.load(t.data.data)}))},load:function(t){this.data=t,this.$router.push({path:"/view/".concat(this.comic_id,"/").concat(this.chapter_index)}),this.loading=!1,document.documentElement.scrollTop=0},download:function(t){window.open(t)}}}),o=a,c=(i("46ed"),i("2877")),r=i("6544"),l=i.n(r),u=i("40dc"),d=i("8336"),h=i("132d"),f=i("adda"),m=i("8860"),p=i("da13"),v=i("5d23"),g=(i("a4d3"),i("4de4"),i("7db0"),i("4160"),i("a630"),i("caad"),i("c975"),i("a9e3"),i("e439"),i("dbb4"),i("b64b"),i("2532"),i("3ca3"),i("498a"),i("159b"),i("ade3")),b=i("2909"),_=(i("ee6f"),i("7560")),x=_["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:_["a"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(t){return!t.isComment&&" "!==t.text}))}}),A=i("16b7"),y=i("b848"),k=i("75eb"),w=i("f573"),O=i("2b0e"),T=O["a"].extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function(t){var e=this;this.originalValue=t,setTimeout((function(){e.isActive=!1}))}}}),C=i("f2e7");i("45fc");function $(){return!1}function I(t,e,i){i.args=i.args||{};var n=i.args.closeConditional||$;if(t&&!1!==n(t)&&!("isTrusted"in t&&!t.isTrusted||"pointerType"in t&&!t.pointerType)){var s=(i.args.include||function(){return[]})();s.push(e),!s.some((function(e){return e.contains(t.target)}))&&setTimeout((function(){n(t)&&i.value&&i.value(t)}),0)}}var j={inserted:function(t,e){var i=function(i){return I(i,t,e)},n=document.querySelector("[data-app]")||document.body;n.addEventListener("click",i,!0),t._clickOutside=i},unbind:function(t){if(t._clickOutside){var e=document.querySelector("[data-app]")||document.body;e&&e.removeEventListener("click",t._clickOutside,!0),delete t._clickOutside}}},S=j;function D(t,e){var i=e.value,n=e.options||{passive:!0};window.addEventListener("resize",i,n),t._onResize={callback:i,options:n},e.modifiers&&e.modifiers.quiet||i()}function L(t){if(t._onResize){var e=t._onResize,i=e.callback,n=e.options;window.removeEventListener("resize",i,n),delete t._onResize}}var V={inserted:D,unbind:L},B=V,M=i("58df"),E=i("d9bd"),H=i("80d2");function z(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?z(Object(i),!0).forEach((function(e){Object(g["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var W=Object(M["a"])(y["a"],A["a"],k["a"],w["a"],T,C["a"],_["a"]),N=W.extend({name:"v-menu",provide:function(){return{isInMenu:!0,theme:this.theme}},directives:{ClickOutside:S,Resize:B},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data:function(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile:function(){return this.tiles[this.listIndex]},calculatedLeft:function(){var t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(H["d"])(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight:function(){var t=this.auto?"200px":Object(H["d"])(this.maxHeight);return t||"0"},calculatedMaxWidth:function(){return Object(H["d"])(this.maxWidth)||"0"},calculatedMinWidth:function(){if(this.minWidth)return Object(H["d"])(this.minWidth)||"0";var t=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return Object(H["d"])(Math.min(e,t))||"0"},calculatedTop:function(){var t=this.auto?Object(H["d"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return t||"0"},hasClickableTiles:function(){return Boolean(this.tiles.find((function(t){return t.tabIndex>-1})))},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive:function(t){t||(this.listIndex=-1)},isContentActive:function(t){this.hasJustFocused=t},listIndex:function(t,e){if(t in this.tiles){var i=this.tiles[t];i.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=i.offsetTop-i.clientHeight}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(E["d"])("full-width",this)},mounted:function(){this.isActive&&this.callActivate()},methods:{activate:function(){var t=this;this.updateDimensions(),requestAnimationFrame((function(){t.startTransition().then((function(){t.$refs.content&&(t.calculatedTopAuto=t.calcTopAuto(),t.auto&&(t.$refs.content.scrollTop=t.calcScrollPosition()))}))}))},calcScrollPosition:function(){var t=this.$refs.content,e=t.querySelector(".v-list-item--active"),i=t.scrollHeight-t.offsetHeight;return e?Math.min(i,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto:function(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);var i=e.offsetTop-this.calcScrollPosition(),n=t.querySelector(".v-list-item").offsetTop;return this.computedTop-i-n-1},changeListIndex:function(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(t.keyCode!==H["k"].tab){if(t.keyCode===H["k"].down)this.nextTile();else if(t.keyCode===H["k"].up)this.prevTile();else{if(t.keyCode!==H["k"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}else this.isActive=!1},closeConditional:function(t){var e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorListeners:function(){var t=w["a"].options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition:function(){return this.transition?this.$createElement("transition",{props:{name:this.transition}},[this.genContent()]):this.genContent()},genDirectives:function(){var t=this,e=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&e.push({name:"click-outside",value:function(){t.isActive=!1},args:{closeConditional:this.closeConditional,include:function(){return[t.$el].concat(Object(b["a"])(t.getOpenDependentElements()))}}}),e},genContent:function(){var t=this,e={attrs:P({},this.getScopeIdAttrs(),{role:"role"in this.$attrs?this.$attrs.role:"menu"}),staticClass:"v-menu__content",class:P({},this.rootThemeClasses,Object(g["a"])({"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive},this.contentClass.trim(),!0)),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(e){e.stopPropagation();var i=e.target;i.getAttribute("disabled")||t.closeOnContentClick&&(t.isActive=!1)},keydown:this.onKeyDown}};return!this.disabled&&this.openOnHover&&(e.on=e.on||{},e.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(e.on=e.on||{},e.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",e,this.showLazyContent(this.getContentSlot()))},getTiles:function(){this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item"))},mouseEnterHandler:function(){var t=this;this.runDelay("open",(function(){t.hasJustFocused||(t.hasJustFocused=!0,t.isActive=!0)}))},mouseLeaveHandler:function(t){var e=this;this.runDelay("close",(function(){e.$refs.content.contains(t.relatedTarget)||requestAnimationFrame((function(){e.isActive=!1,e.callDeactivate()}))}))},nextTile:function(){var t=this.tiles[this.listIndex+1];if(!t){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===t.tabIndex&&this.nextTile()},prevTile:function(){var t=this.tiles[this.listIndex-1];if(!t){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===t.tabIndex&&this.prevTile()},onKeyDown:function(t){var e=this;if(t.keyCode===H["k"].esc){setTimeout((function(){e.isActive=!1}));var i=this.getActivator();this.$nextTick((function(){return i&&i.focus()}))}else!this.isActive&&[H["k"].up,H["k"].down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick((function(){return e.changeListIndex(t)}))},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render:function(t){var e={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return t("div",e,[!this.activator&&this.genActivator(),this.$createElement(x,{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])])}}),R=i("490a"),q=i("0fd9"),F=i("2a7f"),J=Object(c["a"])(o,n,s,!1,null,"1508afec",null);e["default"]=J.exports;l()(J,{VAppBar:u["a"],VBtn:d["a"],VIcon:h["a"],VImg:f["a"],VList:m["a"],VListItem:p["a"],VListItemTitle:v["c"],VMenu:N,VProgressCircular:R["a"],VRow:q["a"],VToolbarTitle:F["a"]})},"2a7f":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("71d9"),s=i("80d2"),a=Object(s["e"])("v-toolbar__title"),o=Object(s["e"])("v-toolbar__items");n["a"]},"46ed":function(t,e,i){"use strict";var n=i("9b26"),s=i.n(n);s.a},"9b26":function(t,e,i){},ee6f:function(t,e,i){}}]);
//# sourceMappingURL=chunk-4ca354ae.07a6279e.js.map